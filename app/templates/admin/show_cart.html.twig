{% extends 'base.html.twig' %}

{% block title %}Hello AdminController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>



    <table class="table">
        <thead>
        <tr>
            <th>Nom</th>
            <th>Quantité</th>
            <th>Prix</th>
            <th>Actions</th>

        </tr>
        </thead>
        <tbody>
        {% set prix = 0 %}
        {% for article in articles %}
            {% if article.quantite > 0 %}
                <tr>
                    <td>{{ article.name }}</td>
                    <td>{{ article.quantite }}</td>
                    <td>{{ article.prix * article.quantite }}</td>

                    {%  set prix = prix + article.prix * article.quantite %}
                    <td>
                        <a href="{{ path('confirm_purchase', {'id':article.id, 'user':user.id}) }}">Confirmer Achat</a>
                        <a href="{{ path('remove_reservation', {'id':article.id, 'user':user.id}) }}">Retirer</a>
                    </td>

                </tr>
            {% endif %}
        {% else %}
            <tr>
                <td colspan="4">Aucun élement dans le panier</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <p class="font-thin  text-yellow-500">Total : {{ prix }} €</p>



{% endblock %}

