{% extends 'admin.html.twig' %}

{% block title %}Administration{% endblock %}

{% block content %}
    <table class="w-4/5 table">
        <thead class="border-b-[3px] border-navbar-background">
            <tr class="w-fit">
                <th class="p-3 space-x-8 text-left">Id</th>
                <th class="p-3 space-x-8 text-left">Nom d'utilisateur</th>
                <th class="p-3 space-x-8 text-left">Adresse e-mail</th>
                <th class="p-3 space-x-8 text-left">Adherent</th>
                <th class="p-3 space-x-8 text-center">actions</th>
            </tr>
        </thead>
        <tbody>
        <tr class="h-14">
            <td colspan="4"></td>
            <td class=" transition text-center font-bold text-[#7C7C7C]">
                <a class="border-2 border-[#374779] py-[.15rem] px-3 font-medium transition text-white bg-[#374779] shadow-lg shadow-blue-900/50 hover:bg-[#CBD8E5] hover:text-[#374779]" href="{{ path('user_new') }}">Ajouter</a>
            </td>
        </tr>
        {% for user in users %}
            <tr class="border-b-2 border-[#C4C4C4] text-[#7C7C7C] transition font-medium hover:bg-[#E4E4E4]">
                <td class="px-3 py-1 ">{{ user.id }}</td>
                <td class="px-3 py-1 ">{{ user.username }}</td>
                <td class="px-3 py-1 ">{{ user.mail }}</td>
                <td class="px-3 py-1 ">
                    {% if user.roles|filter(role => role == "ROLE_ADHERENT")|first %}
                        <span>Oui</span>
                    {% else %}
                        <span>Non</span>
                    {% endif %}
                </td>
                <td class="px-3 py-1 text-center transition font-normal">
                    <a class="hover:text-[#374779]" href="{{ path('user_show', {'id': user.id}) }}">👁</a>
                    <a class="hover:text-[#374779]" href="{{ path('user_edit', {'id': user.id}) }}">📝</a>
                    <a class="hover:text-[#374779]" href="{{ path('show_cart', {'id': user.id}) }}">🛒</a>
{#                    <a class="hover:text-[#374779]" href="{{ path('user_toggle_adhesion', {'id': user.id}) }}">🅰️</a>#}
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5">Pas d'utilisateur trouvé</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>


{% endblock %}
